# Описание приложения.
Класс с ORM находится в файле "/app/ORM.py".
Для взаимодействия с ORM, был написан API на FastAPI.
При запуске приложения в Docker, таблицы базы данных заполняются подготовленными данными.
В каждую таблицу записываются по 3 записи.
# Описание логики заполнения таблиц.
## Логика заполнения таблицы "Дефекты".
При заполнении таблицы "defects", поле "name_of_works" заполняется исходя из условий:
    - если поле "defect" имеет значение "неравномерное прокрашивание", поле "name_of_works" принимает значение "перекраска",
    поле "measure", принимает значение "процент на 1 кв. метр";
    - если поле "defect" имеет значение "наличие царапин", поле "name_of_works" принимает значение "полировка",
    поле "measure", принимает значение "процент на 1 кв. метр";
    - если поле "defect" имеет значение "наличие изгибов", поле "name_of_works" принимает значение "рихтовка",
    поле "measure", принимает значение "количество на 1 единицу".
Данная логика реализуется с помощью тригеров базы данных.
## Логика заполнения таблицы "Сотрудники".
При заполнении таблицы "employees", поле "employee" заполняется объединением значений из полей "id" и "employee".
Данная логика реализуется с помощью тригеров.
# Описание структуры приложения.
Класc c ORM находится в файле "/app/ORM.py".
Зависимости находятся в файле "/app/pyproject.toml".
Файл запуска приложения- "/app/main.py".
Переменные окружения для локального запуска приложения- "/.env.py".
Переменные окружения для запуска приложения в Docker- "/.env-non-dev".
Репозиторий для сущности "Дефект"- "/app/data_sources/storages/defect_repository.py".
Репозиторий для сущности "Сотрудник"- "/app/data_souirces/storages/employee_repository.py".
Хендлеры для сущности "Дефект"- "/app/views/defects.py".
Хендлеры для сущности "Сотрудник"- "/app/views/employees.py".
Конфигурация приложения- "/app/config.py".
Триггеры базы данных- "/app/triggers.py".
Создание таблиц базы данных- "/app/create_tables.py".
Заполнение таблиц базы данных подготовленными значениями- "/app/database_entry.py".
Очистка таблиц базы данных- "/app/clear_database.py".
Баш скрипт для работы приложения в Docker- "/scripts_for_docker/app.sh".
# Запуск приложения в Docker.
## Подготовка к запуску.
Для запуска приложения в Docker, необходимо установить значения для переменных окружения в файле "/.env-non-dev".
В данном файле находятся следующие переменные окружения:
    - POSTGRES_DB;
    - POSTGRES_USER;
    - POSTGRES_PASSWORD;
    - DB_USER;
    - PASSWORD;
    - DB_HOST;
    - DB_NAME;
    - DB_PORT;
    - APP_HOST=127.0.0.1
    - APP_PORT=8000
## Запуск приложения в Docker.
Для сборки контейнеров, необходимо выполнить команду "docker compose build" из коневой директории.
Для запуска приложения в Docker, необходимо выполнить команду "docker compose up app" из корневой директории.
При запуске приложения в Docker, таблицы базы данных заполняются подготовленными данными.
В каждую таблицу записываются по 3 записи.
# Запуск приложения локально


